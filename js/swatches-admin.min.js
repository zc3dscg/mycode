!function i(n,o,c){function d(a,e){if(!o[a]){if(!n[a]){var t="function"==typeof require&&require;if(!e&&t)return t(a,!0);if(l)return l(a,!0);var r=new Error("Cannot find module '"+a+"'");throw r.code="MODULE_NOT_FOUND",r}var s=o[a]={exports:{}};n[a][0].call(s.exports,function(e){return d(n[a][1][e]||e)},s,s.exports,i,n,o,c)}return o[a].exports}for(var l="function"==typeof require&&require,e=0;e<c.length;e++)d(c[e]);return d}({1:[function(e,a,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;function r(){jQuery(function(c){function d(){var n;c(".artbees-was-image-picker__upload").on("click",function(e){e.preventDefault();var t=c(this),a=t.closest(".artbees-was-image-picker"),r=a.find(".artbees-was-image-picker__field"),s=a.find(".artbees-was-image-picker__preview"),i=a.find(".artbees-was-image-picker__remove");(n=wp.media.frames.frame=wp.media({title:c(this).data("title"),button:{text:c(this).data("button-text")},multiple:!1})).on("select",function(){var e=n.state().get("selection").first().toJSON(),a=void 0!==e.sizes.thumbnail?e.sizes.thumbnail.url:e.url;r.val(e.id),s.html('<img src="'+a+'" class="attachment-thumbnail size-thumbnail">'),t.addClass("artbees-was-image-picker__upload--edit"),i.show()}),n.open()}),c(".artbees-was-image-picker__remove").on("click",function(e){e.preventDefault();var a=c(this).closest(".artbees-was-image-picker"),t=a.find(".artbees-was-image-picker__field"),r=a.find(".artbees-was-image-picker__preview"),s=a.find(".artbees-was-image-picker__upload");t.val(""),r.html(""),s.removeClass("artbees-was-image-picker__upload--edit"),c(this).hide()})}function l(){0!==c(".artbees-color-swatch-picker").length&&(c(".artbees-color-swatch-picker").wpColorPicker(),c(".artbees-color-swatch").find("input").show())}function u(e){var a,t=c(e).find(".artbees-was-select, .artbees-was-product-select");!t.data("is-parent")||t.data("is-parent")&&"1"===t.val()||t.data("is-parent")&&"column"===t.val()||(a='.artbees-form-field[data-parent="'+t.data("is-parent")+'"]',c(a).addClass("swatch-collapsed"))}d(),l(),c(".artbees-form-field").each(function(e,a){c(a).data("conditional")===c("#attribute_type").val()&&(c(a).find("input").removeAttr("disabled"),c(a).find("select").removeAttr("disabled"),c(a).addClass("active"),u(a))}),c("#attribute_type").on("change",function(){var t=this.value;c(".artbees-form-field").removeClass("active"),c(".artbees-form-field").find("input").attr("disabled","disabled"),c(".artbees-form-field").find("select").attr("disabled","disabled"),c(".artbees-form-field").each(function(e,a){c(a).data("conditional")===t&&(c(a).addClass("active"),c(a).find("input").removeAttr("disabled"),c(a).find("select").removeAttr("disabled"),u(a))})}),c(".artbees-was-select").on("change",function(t){var r;void 0!==c(t.currentTarget).data("is-parent")&&(r=this.value,c(".artbees-form-field").each(function(e,a){void 0!==c(a).data("parent")&&c(t.currentTarget).data("is-parent")===c(a).data("parent")&&(c(a).removeClass("active"),c(a).addClass("swatch-collapsed"),(0<r||"column"===r)&&c(t.currentTarget).parents(".artbees-form-field").data("conditional")===c(a).data("conditional")&&(c(a).addClass("active"),c(a).removeClass("swatch-collapsed")))}))});function a(){c(".artbees-was-attribute-wrapper").each(function(e,o){c(o).find(".artbees-form-field").each(function(e,a){c(a).data("conditional")===c(o).find("#product_attribute_type").val()&&c(a).parents(".artbees-was-attribute-wrapper").data("taxonomy")===c(a).data("taxonomy")&&(c(a).addClass("active"),u(a))}),c(o).find("#product_attribute_type").on("change",function(){var t=this.value;c(o).find(".artbees-form-field").removeClass("active"),c(o).find(".artbees-form-field").find("input").attr("disabled","disabled"),c(o).find(".artbees-form-field").find("select").attr("disabled","disabled"),c(o).find(".artbees-form-field").each(function(e,a){c(a).data("conditional")===t&&(c(a).addClass("active"),c(a).find("input").removeAttr("disabled"),c(a).find("select").removeAttr("disabled"),u(a))});var e,a,r,s,i=c(o).data("taxonomy"),n=c(o).data("product-id");e=t,a=o,r=i,s=n,wp.ajax.post({action:"artbees_product_swatches_generate_product_options",swatch_type:e,terms_taxonomy:r,product_id:s}).done(function(e){c(a).find("#artbees-was-terms-options").html(e),l(),d()})}),c(o).find(".artbees-was-product-select").on("change",function(t){var r;void 0!==c(t.currentTarget).data("is-parent")&&(r=this.value,c(o).find(".artbees-form-field").each(function(e,a){void 0!==c(a).data("parent")&&c(t.currentTarget).data("is-parent")===c(a).data("parent")&&(c(a).removeClass("active"),c(a).addClass("swatch-collapsed"),(0<r||"column"===r)&&c(t.currentTarget).parents(".artbees-form-field").data("conditional")===c(a).data("conditional")&&c(o).data("taxonomy")===c(a).data("taxonomy")&&(c(a).addClass("active"),c(a).removeClass("swatch-collapsed")))}))})})}a();function t(){caches.keys().then(function(e){return Promise.all(e.map(function(e){return caches.delete(e)}))})}var i="",n="";c(".edit-tags-php #submit").on("click",function(){setTimeout(function(){var e,a;0!==c(".artbees-color-swatch button").length&&(i="color",n=c(".artbees-color-swatch-picker").val(),c(".artbees-color-swatch button").removeAttr("style"),t()),0!==c(".artbees-was-image-picker .artbees-was-image-picker__preview").length&&(a=(e=c(".artbees-was-image-picker")).find(".artbees-was-image-picker__preview"),i="image",n=a.find("img").attr("src"),a.find("img").remove(),e.find(".artbees-was-image-picker__upload--edit").removeClass("artbees-was-image-picker__upload--edit"),e.find(".artbees-was-image-picker__remove").hide(),t())},500)}),c("a[href=#artbees-was-options]").on("click",function(e){c(e.currentTarget).data("product")&&wp.ajax.send("sellkit_get_swatches",{type:"POST",data:{product_id:c(e.currentTarget).data("product"),nonce:window.was.nonce},beforeSend:function(){c("#woocommerce-product-data").block({message:null,overlayCSS:{background:"#fff",opacity:.6}})},complete:function(){c("#woocommerce-product-data").unblock()},success:function(e){c("#artbees-was-options").remove(),c("#variable_product_options").after(e),c(".wc-metaboxes-wrapper").on("click",".wc-metabox > h3.artbees-was-attribute-name",function(){var e=c(this).parent(".wc-metabox");e.hasClass("closed")?e.removeClass("closed"):e.addClass("closed"),e.hasClass("open")?e.removeClass("open"):e.addClass("open")}),c(".wc-metaboxes-wrapper").on("click",".wc-metabox h3.artbees-was-attribute-name",function(e){c(e.target).filter(":input, option, .sort").length||c(this).next(".wc-metabox-content").stop().slideToggle()}),a(),d(),l()}})}),c(document).ajaxComplete(function(e,a,t){if(a&&4===a.readyState&&200===a.status&&t.data&&(0<=t.data.indexOf("_inline_edit")||0<=t.data.indexOf("add-tag"))&&("color"===i||"image"===i)){var r=n||"color"!==i&&"image"!==i?"image"===i?'<td class="artbees-was-swatch column-artbees-was-swatch" data-colname="Swatch"><div class="artbees-was-image-content"><img src="'+n+'" class="attachment-thumbnail size-thumbnail" alt="" decoding="async" loading="lazy"></div></td>':"color"===i?'<td class="artbees-was-swatch column-artbees-was-swatch" data-colname="Swatch"><span class="artbees-was-color-content" style="background-color: '+n+' "></span></td>':"":'<td class="artbees-was-swatch column-artbees-was-swatch" data-colname="Swatch"></td>',s=c("table.wp-list-table").find("tbody > tr")[0];if(!r||0!==c(s).find(".artbees-was-swatch").length)return;c(s).find(".column-handle").before(r)}})})}(t.default=r)()},{}]},{},[1]);